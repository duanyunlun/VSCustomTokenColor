2026-01-30 22:07:42

## 变更摘要
- 同步“文档/实现不一致”：以当前实现为准更新 `README.md` 与工作计划文档，避免误导。
- 新增 `docs/Readme.md`，说明 docs 目录用途与更新时机。
- 引入“每次修改必须写进度并 push”的协作约定（见仓库根目录 `AGENTS.md`）。

## 变更原因
- 原 README 与实现存在差异（例如：预览文档写入方式、按钮数量、语言列表策略等），在不同机器/会话中易造成误操作。
- 需要一个可持续同步的进度文档，确保异地机器上的 AI 对话能快速对齐上下文与当前状态。

## 验证方式
1) 安装依赖：`npm ci`
2) 编译：`npm run compile`

## 备注/后续
- 后续每次提交都要在本文件追加记录，并 push 到远端。

---

2026-01-30 22:57:52

## 变更摘要
- 新增“高级：自定义 selector”能力：支持 TextMate scopes（写入 `editor.tokenColorCustomizations` 的主题块 textMateRules），用于处理 Inspect 面板里只有 textmate scopes、没有语义 token 的场景（例如 C/C++ 的 `entity.name.function.definition.cpp`）。
- 扩展 Preset 存储结构：增加 `textMateRules`，并在预览/应用时与语义规则一起写入 settings；同样支持会话快照与未保存自动回滚。

## 变更原因
- 仅靠 `editor.semanticTokenColorCustomizations` 无法覆盖“只由 TextMate scopes 产生的高亮”（你截图红框属于 TextMate scopes），导致扩展无法配置该类颜色。

## 验证方式
1) 编译：`npm run compile`
2) 手工验证：打开 `Token Styler: Open` → 勾选“使用自定义 selector” → 选择 TextMate → 粘贴 scope（如 `entity.name.function.definition.cpp`）→ 改颜色 → 观察预览变化；不保存关闭面板应自动回滚。
